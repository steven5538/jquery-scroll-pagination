(function(e){e.fn.scrollPagination=function(t){var n=e.extend(e.fn.scrollPagination.defaults,t);var r=n.scrollTarget;if(r==null){r=obj}n.scrollTarget=r;return this.each(function(){e.fn.scrollPagination.init(e(this),n)})};e.fn.stopScrollPagination=function(){return this.each(function(){e(this).attr("scrollPagination","disabled")})};e.fn.scrollPagination.loadContent=function(t,n){var r=n.scrollTarget;var i=e(r).scrollTop()+n.heightOffset>=e(document).height()-e(r).height();if(i&&n.lock){if(n.beforeLoad!=null){n.beforeLoad()}n.lock=false;e(t).children().attr("rel","loaded");e.ajax({type:"POST",url:n.contentPage,data:n.contentData,success:function(r){n.lock=true;e(t).append(r);var i=e(t).children("[rel!=loaded]");if(n.afterLoad!=null){n.afterLoad(i)}},dataType:"html"})}};e.fn.scrollPagination.init=function(t,n){var r=n.scrollTarget;e(t).attr("scrollPagination","enabled");e(r).scroll(function(r){if(e(t).attr("scrollPagination")=="enabled"){e.fn.scrollPagination.loadContent(t,n)}else{r.stopPropagation()}});e.fn.scrollPagination.loadContent(t,n)};e.fn.scrollPagination.defaults={contentPage:null,contentData:{},beforeLoad:null,afterLoad:null,scrollTarget:null,heightOffset:0,lock:true}})(jQuery)